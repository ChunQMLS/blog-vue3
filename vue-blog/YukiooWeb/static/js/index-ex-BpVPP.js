import{d as e,B as t,ad as o,o as r,M as i,ag as s}from"./@vue-HJvXqiKQ.js";import{d as a,c as n}from"./pinia-H_Pi8DHn.js";import{_ as l}from"./@codemirror-f2XyNq9l.js";import{c,a as m}from"./vue-router-w7VblU2R.js";import{l as p}from"./vue3-lazy-LYe7IwOc.js";import{a as h}from"./axios-9BcR6lUQ.js";import{E as u}from"./element-plus-C50n0kKT.js";import"./dayjs-_EBtpdas.js";import"./copy-to-clipboard-6z1FYTZW.js";import"./toggle-selection-UL9rmEGR.js";import"./@element-plus-9anORygP.js";import"./@vueuse-f9VkAUex.js";import"./lodash-es-plMgWLWd.js";import"./@ctrl-s6KMGca5.js";import"./@popperjs-QJLSoJI5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const g=[{path:"/",component:()=>l((()=>import("./Layout-0xYvBEGP.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])),children:[{name:"Home",path:"",component:()=>l((()=>import("./Home-xaBh2OzW.js")),__vite__mapDeps([20,21,14,2,22,1,3,4,5,6,7,8,9,10,11,13,23,24,25,26,27,28,29,30,31,15,16,17,18,32]))},{name:"Category",path:"category",component:()=>l((()=>import("./Category-Ahrb5rbD.js")),__vite__mapDeps([33,34,14,2,35,36,37,15,16,13,17,18,1,3,4,5,6,7,8,9,10,11,38]))},{name:"Lable",path:"lable",component:()=>l((()=>import("./Lable-0Ac01GZP.js")),__vite__mapDeps([39,34,14,2,35,36,37,15,16,13,17,18,1,3,4,5,6,7,8,9,10,11,40]))},{name:"Archives",path:"archives/:page?",component:()=>l((()=>import("./Archives-A4r3nDiQ.js")),__vite__mapDeps([41,1,2,3,4,5,6,7,8,9,10,11,21,14,22,24,13,23,25,26,27,30,31,12,15,16,17,18,42]))},{name:"Blog",path:"blog/:id",component:()=>l((()=>import("./Blog-sFNUOcwX.js")),__vite__mapDeps([43,1,2,3,4,5,6,7,8,9,10,11,44,16,45,46,47,48,49,50,51,52,53,54,55,56,57,58,21,14,22,59,13,60,12,15,17,18,61]))},{name:"Gallery",path:"gallery",component:()=>l((()=>import("./Gallery-eohMVWwy.js")),__vite__mapDeps([62,63,34,14,2,35,13,23,15,16,17,18,1,3,4,5,6,7,8,9,10,11,64]))},{name:"GalleryRes",path:"galleryRes/:id",component:()=>l((()=>import("./GalleryRes-cvFqIkJ8.js")),__vite__mapDeps([65,1,2,3,4,5,6,7,8,9,10,11,63,34,14,35,13,23,15,16,17,18,66]))},{name:"FriendshipLink",path:"friendshipLink",component:()=>l((()=>import("./FriendshipLink-ND1w0TSP.js")),__vite__mapDeps([67,1,2,3,4,5,6,7,8,9,10,11,21,14,22,26,23,27,28,13,29,30,31,59,44,16,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,15,17,18,68]))},{name:"MessageBoard",path:"messageBoard",component:()=>l((()=>import("./MessageBoard-6R1CaenR.js")),__vite__mapDeps([69,1,2,3,4,5,6,7,8,9,10,11,34,14,35,59,44,16,45,46,47,48,49,50,51,52,53,54,55,56,57,58,13,60,15,17,18,70]))},{name:"About",path:"about",component:()=>l((()=>import("./About-Hc8LRo5y.js")),__vite__mapDeps([71,21,14,2,22,26,23,27,28,13,29,44,16,45,46,4,5,47,48,49,50,51,52,53,54,55,56,57,58,15,17,18,1,3,6,7,8,9,10,11,72]))}]},{name:"NoPage404",path:"/404",component:()=>l((()=>import("./index-62ymMKRL.js")),__vite__mapDeps([73,14,2,74]))},{path:"/:pathMatch(.*)",redirect:"/404",hidden:!0}],d=c({history:m(),routes:g,scrollBehavior:(e,t,o)=>o||("/about"===e.path&&"event"in e.query?new Promise(((t,o)=>{setTimeout((()=>{var o;t({el:null==(o=e.query.event)?void 0:o.toString(),behavior:"smooth",top:60})}),500)})):{top:0})}),_=h.create({baseURL:"/api",timeout:3e3,headers:{"Content-Type":"application/json"}});function y(){return _({url:"/visitor/getCalendarTrends",method:"GET"})}function f(){return _({url:"/visitor/getRecommendArticle",method:"GET"})}function E(){return _({url:"/visitor/getNotice",method:"GET"})}_.interceptors.response.use((e=>{const{code:t,msg:o,data:r}=e.data;return 200===t?r:500===t?(u.error(o),Promise.reject(e)):void 0}),(e=>Promise.reject(e)));const I=a("blogInfo",{state:()=>({blogInfo:{}}),actions:{getBlogInfoHandler(){_({url:"/visitor/getBlogInfo",method:"GET"}).then((e=>{this.blogInfo=e}))}}}),j=a("myInfo",{state:()=>({myInfo:{}}),actions:{getMyInfoHandler(){_({url:"/visitor/getMyInfo",method:"GET"}).then((e=>{this.myInfo=e}))}}}),v=a("critic",{state:()=>({critic:{avatar:localStorage.getItem("criticAvatar")||"",nickname:localStorage.getItem("criticNickname")||"",email:localStorage.getItem("criticEmail")||"",website:localStorage.getItem("criticWebsite")||""}}),getters:{Qnumber:e=>e.critic.email.includes("@qq.com")?e.critic.email.split("@")[0]:"",emailCheck:e=>/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e.critic.email)},actions:{localSave(){localStorage.setItem("criticAvatar",this.critic.avatar),localStorage.setItem("criticNickname",this.critic.nickname),localStorage.setItem("criticEmail",this.critic.email),localStorage.setItem("criticWebsite",this.critic.website)}}}),b=a("category",{state:()=>({category:[]}),getters:{lables:e=>e.category.reduce(((e,t)=>e.concat(t.lables)),[]),articleTotal(e){let t=0;return e.category.forEach((e=>t+=e.articleNum)),t}},actions:{getCategory(){0===this.category.length&&_({url:"/visitor/getCategoryAndLable",method:"GET"}).then((e=>{this.category=e}))}}}),A=a("theme",{state:()=>({theme:localStorage.getItem("theme")||"light",style:JSON.parse("{}")}),actions:{init(){var e,t;_({url:"/visitor/getThemeApply",method:"GET"}).then((e=>{e&&e.length>0&&(this.style=JSON.parse(e),this.render())})),null==(e=document.querySelector("html"))||e.setAttribute("data-theme",this.theme),null==(t=document.querySelector("html"))||t.setAttribute("class",this.theme)},render(){const e=document.querySelector(":root");for(const t in this.style)"--body-background-image"!=t?null==e||e.style.setProperty(t,this.style[t]):null==e||e.style.setProperty(t,`url(${this.style[t]})`)},changeTheme(){var e,t;"light"===this.theme?this.theme="dark":this.theme="light",null==(e=document.querySelector("html"))||e.setAttribute("data-theme",this.theme),null==(t=document.querySelector("html"))||t.setAttribute("class",this.theme),this.persist()},persist(){localStorage.setItem("theme",this.theme)}}}),T=s(e({__name:"App",setup(e){const s=A(),{getMyInfoHandler:a}=j(),{getCategory:n}=b(),{getBlogInfoHandler:l}=I();return t((()=>{_({url:"/visitor/visit",method:"GET"}),s.init(),l(),a(),n()})),(e,t)=>{const s=o("router-view");return r(),i(s)}}})),L=n();T.use(d),T.use(L),p.install(T,{loading:"/loading.gif",error:"/error.jpg"}),T.mount("#app");export{A as a,b,f as c,j as d,v as e,E as f,y as g,_ as i,I as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["static/js/Layout-0xYvBEGP.js","static/js/element-plus-C50n0kKT.js","static/js/@vue-HJvXqiKQ.js","static/js/dayjs-_EBtpdas.js","static/js/copy-to-clipboard-6z1FYTZW.js","static/js/toggle-selection-UL9rmEGR.js","static/js/@element-plus-9anORygP.js","static/js/@vueuse-f9VkAUex.js","static/js/lodash-es-plMgWLWd.js","static/js/@ctrl-s6KMGca5.js","static/js/@popperjs-QJLSoJI5.js","static/css/element-plus-o9HPGG31.css","static/js/articleApi-TW8o0zzT.js","static/js/vue-router-w7VblU2R.js","static/js/_plugin-vue_export-helper-NGi3vMWx.js","static/js/pinia-H_Pi8DHn.js","static/js/@codemirror-f2XyNq9l.js","static/js/vue3-lazy-LYe7IwOc.js","static/js/axios-9BcR6lUQ.js","static/css/Layout-sL_Kb1Lb.css","static/js/Home-xaBh2OzW.js","static/js/MainSidebar-YJSewFY6.js","static/css/MainSidebar-7NtkVQSs.css","static/js/config-p_8hFdbX.js","static/js/ArticleBar-F77Ui8iM.js","static/css/ArticleBar-e10kr4OO.css","static/js/aboutApi-WILlrg0U.js","static/css/aboutApi-_9AVxF3F.css","static/js/LableBar-OULIpiS_.js","static/css/LableBar-m9rCd3nF.css","static/js/BlogEvent-tJ-7twqE.js","static/css/BlogEvent-FEShtnve.css","static/css/Home-vF4uLwiA.css","static/js/Category-Ahrb5rbD.js","static/js/Main-ndsmG3dN.js","static/css/Main-caPlbK5D.css","static/js/TitleList-38gUo2a_.js","static/css/TitleList-bBtbTvks.css","static/css/Category-lJOdbORs.css","static/js/Lable-0Ac01GZP.js","static/css/Lable-1nS_WSst.css","static/js/Archives-A4r3nDiQ.js","static/css/Archives-IT3V4sTe.css","static/js/Blog-sFNUOcwX.js","static/js/md-editor-v3-fjGWSIH8.js","static/js/@vavt-gt6kAD9U.js","static/js/medium-zoom-NEHS3yxb.js","static/js/markdown-it-YWQeOhXx.js","static/js/mdurl-bC6Sirnl.js","static/js/uc.micro-n9gVBcKC.js","static/js/entities-saqRTBSk.js","static/js/linkify-it-KbUSLmPi.js","static/js/punycode.js-PzQ4PjOO.js","static/js/markdown-it-image-figures-1kcB8iad.js","static/js/markdown-it-task-lists-zOHIgd5S.js","static/js/markdown-it-xss-M5XZi7-u.js","static/js/xss-MXrXF-xu.js","static/js/cssfilter-LK_Kby71.js","static/css/md-editor-v3-O0GUQheR.css","static/js/Comment-Rtwalswc.js","static/css/Comment-SPsFLVeF.css","static/css/Blog-DUC9_TwR.css","static/js/Gallery-eohMVWwy.js","static/js/galleryApi-iS1y8tOD.js","static/css/Gallery-rHOopu-Q.css","static/js/GalleryRes-cvFqIkJ8.js","static/css/GalleryRes-geomgi8Y.css","static/js/FriendshipLink-ND1w0TSP.js","static/css/FriendshipLink-NuywXb3k.css","static/js/MessageBoard-6R1CaenR.js","static/css/MessageBoard-VSeDKxyo.css","static/js/About-Hc8LRo5y.js","static/css/About-pwoA2Jgi.css","static/js/index-62ymMKRL.js","static/css/index-xnJ35LKx.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
